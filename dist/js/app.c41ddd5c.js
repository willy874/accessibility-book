(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],f=0,p=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"05ea":function(e,t,r){},"206d":function(e,t,r){"use strict";r("26aa")},"26aa":function(e,t,r){},"28da":function(e,t,r){"use strict";r("cd8f")},"2b1d":function(e,t,r){"use strict";r("f748")},"2ec1":function(e,t,r){},3904:function(e,t,r){"use strict";r("5d7b")},"43c3":function(e,t,r){"use strict";r("e927")},4511:function(e,t,r){},5387:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"state",(function(){return Bn})),r.d(n,"mutations",(function(){return Mn})),r.d(n,"actions",(function(){return Dn}));var a={};r.r(a),r.d(a,"state",(function(){return Gn})),r.d(a,"mutations",(function(){return Pn})),r.d(a,"actions",(function(){return Un}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e.route?[e.isShow?r("Header",{staticClass:"header"}):e._e(),r("article",{staticClass:"article"},[r("div",{staticClass:"main"},[r("router-view")],1)]),e.isShow?r("Footer",{staticClass:"footer"}):e._e()]:e._e()],2)},s=[],c=r("1da1"),u=(r("96cf"),r("dd49"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("nav",[e.menuList?r("ul",e._l(e.sortMenuList,(function(t){return r("li",{key:t.uuid},[r("RouterLink",{attrs:{to:e.getMenuRoute(t.uuid)}},[e._v(e._s(t.label))])],1)})),0):e._e()])])}),l=[],f=(r("4e82"),r("d81d"),{CREATED:"created",BEFORE_MOUNT:"beforeMount",MOUNTED:"mounted",BEFORE_UPDATE:"beforeUpdate",UPDATED:"updated",ACTIVATED:"activated",DEACTIVATED:"deactivated",BEFORE_DESTROY:"beforeDestroy",DESTROYED:"destroyed",WATCH_ROUTE:"watchRoute"}),p={TOKEN:"token",REPLACE_ROUTE:"replaceRoute"},m={HOME:"Home",BOOK:"Book",BOOK_DETAIL:"BookDetail",BOOK_MARK:"BookMark",CHAPTER:"Chapter",HISTORY:"History",LOGIN:"Login",MENU:"Menu",NAVIGATION:"Navigation",NEWS:"news",NEWS_DETAIL:"newsDetail",NO_AUTHORIZED:"noAuthorized",REGISTER:"Register",TAG:"Tag",TAG_DETAIL:"TagDetail",USER:"User"},d={CLIENT_ERROR:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,Not_ACCEPTABLE:406,TIMEOUT:408,SERVER_ERROR:500,NOT_IMPLEMENTED:501,SERVICE_UNAVAILABLE:503},h=r("5530"),v={IS_LOGIN:"isLogin"},O={BOOKMARK_LIST:"bookmarkList"},b={CHAPTER_LIST:"chapterList"},_={BOOK_LIST:"bookList"},E={TAG_LIST:"tagList"},g={HISTORY_LIST:"historyList"},T={MENU_LIST:"menuList"},R={NEWS_LIST:"newsList"},w=Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])({},v),b),O),_),E),g),T),R),k={SET_INIT:"setInit",SET_ROUTE:"setRoute",SET_LOADING:"setLoading"},x={CREATE_STORAGE:"createStorage",UPDATE_STORAGE:"updateStorage",DELETE_STORAGE:"deleteStorage"},L={SET_USER_INFO:"setUserInfo",REMOVE_USER_INFO:"removeUserInfo"},A={SET_CHAPTER:"setChapter",SET_CHAPTER_ACTIVE_BOOK:"setChapterActiveBook"},S={SET_BOOKMARK:"setBookmark",REMOVE_BOOKMARK:"removeBookmark"},j={SET_BOOK:"setBook"},I={SET_TAG:"setTag"},y={SET_HISTORY:"setHistory"},N={SET_MENULIST:"setMenuList"},C={SET_NEWS:"setNews"},B=Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])({},k),L),x),A),S),j),I),y),N),C),M={ROUTE_CHANGE:"routeChange"},D={SET_STORAGE:"setStorage",REMOVE_STORAGE:"removeStorage",GET_STORAGE:"getStorage"},H={FETCH_USER_INFO:"fetchUserInfo",CHECK_LOGIN_REPLACE:"checkLoginReplace",UPDATED_USER_INFO:"updateUserInfo",LOGIN:"login",LOGOUT:"logout"},G={FETCH_CHAPTER_BY_ID:"fetchChapterById",FETCH_CHAPTER_LIST_BY_TAG_ID:"fetchChapterListByTagId"},P={FETCH_BOOKMARK_LIST:"fetchBookmarkList",ADD_BOOKMARK:"addBookmark",DELETE_BOOKMARK:"deleteBookmark"},U={FETCH_BOOK_LIST:"fetchBookList",FETCH_BOOK_LIST_BY_QUERY:"fetchBookListByQuery",FETCH_BOOK_BY_ID:"fetchBookById"},$={FETCH_TAG_LIST:"fetchTagList"},K={FETCH_HISTORY_LIST:"fetchHistoryList",ADD_HISTORY:"addHistory"},F={FETCH_MENU_LIST:"fetchMenuList"},Y={FETCH_NEWS_LIST:"fetchNewsList",FETCH_NEWS_BY_ID:"fetchNewsById"},V=Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])(Object(h["a"])({},M),H),D),G),P),U),$),K),F),Y),W={IS_EMPTY:"is_empty",PASSWORD:"password",EMAIL:"email",EQUAL:"equal",IMAGE:"image"},z={name:"Header",data:function(){return{}},computed:{menuList:function(){return this.$store.getters[w.MENU_LIST]},sortMenuList:function(){return this.menuList.map((function(e){return e})).sort((function(e,t){return e.sort-t.sort}))}},methods:{fetchMenuList:function(){return this.$store.dispatch(V.FETCH_MENU_LIST)},getMenuRoute:function(e){return{name:m.MENU,params:{id:e}}},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchMenuList();case 2:case"end":return e.stop()}}),e)})))()}}},q=z,Z=(r("2b1d"),r("2877")),Q=Object(Z["a"])(q,u,l,!1,null,"de24e4e6",null),J=Q.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",[r("nav",[r("ul",{staticClass:"footer-nav"},[[e.route.name===e.RouterName.HOME?r("li",[r("RouterLink",{attrs:{to:{name:e.RouterName.USER}}},[e._v("使用者")])],1):r("li",[r("RouterLink",{attrs:{to:{name:e.RouterName.HOME}}},[e._v("首頁")])],1)],r("li",[r("a",{attrs:{href:"javascript:;"},on:{click:e.routerBack}},[e._v("返回")])]),[e.route.name===e.RouterName.CHAPTER&&e.nextChapterRoute?r("li",[r("RouterLink",{attrs:{to:e.nextChapterRoute}},[e._v("下一章")])],1):r("li",[r("a",{attrs:{href:"javascript:;"}})])],r("li",[r("RouterLink",{attrs:{to:{name:e.RouterName.NAVIGATION}}},[e._v("目錄")])],1)],2)])])},ee=[],te=(r("a9e3"),{name:"Footer",data:function(){return{RouterName:m}},computed:{activeBook:function(){return this.$store.state.chapter.activeBook},activeChapterIndexOf:function(){var e,t=Number(this.route.params.id),r=null===(e=this.activeBook)||void 0===e?void 0:e.chapter_set;return r?r.map((function(e){return e.id})).indexOf(t):-1},nextChapterRoute:function(){if(this.activeBook&&this.activeChapterIndexOf>=0){var e=this.activeBook.chapter_set[this.activeChapterIndexOf+1];if(e)return{name:m.CHAPTER,params:{id:e.id}}}return!1}},methods:{routerBack:function(){this.$router.back()}}}),re=te,ne=(r("8585"),Object(Z["a"])(re,X,ee,!1,null,null,null)),ae=ne.exports,ie=r("d4ec"),oe=r("bee2"),se=r("4d8c"),ce=r.n(se);r("ac1f"),r("466d");function ue(){var e=window.navigator.userAgent.match(/StApp\/([a-zA-Z0-9]*)\/(\d\.\d\.\d)\/([a-zA-Z0-9]*)/);return!!e&&{isApp:!0,merchant:e[1],version:e[2],platform:e[3]}}var le=r("53ca"),fe=r("2909"),pe=(r("159b"),r("b64b"),r("a15b"),r("99af"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("9861"),r("0f32")),me=r.n(pe);r("b047");function de(e){var t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object.keys(t).forEach((function(a){var i=[].concat(Object(fe["a"])(n),[a]).map((function(e,t){return t?"[".concat(e,"]"):e})).join("");if(t[a]instanceof Blob)r.append(i,t[a],t[a].name);else if("object"===Object(le["a"])(t[a]))e(t[a],[].concat(Object(fe["a"])(n),[a]));else if(void 0!==t[a]&&""!==t[a]){if(/base64/.test(i))return;r.append(i,t[a])}}))},r=new FormData;return t(e),r}function he(e){var t=new URLSearchParams,r=function(r){var n=e[r];Array.isArray(n)?n.forEach((function(e){return t.append(r,e)})):"object"===Object(le["a"])(n)?t.append(r,JSON.stringify(n)):t.append(r,n)};for(var n in e)r(n);return t}r("4de4"),r("4d63"),r("25f0");function ve(e){return Array.isArray(e)&&"[]"===JSON.stringify(e.filter(Boolean))}function Oe(e){return"object"===Object(le["a"])(e)&&e&&e.constructor===Object&&"{}"===JSON.stringify(e)}function be(e){return e instanceof Blob&&(0===e.size||""===e.type)}function _e(e){return"string"===typeof e&&/^\s*$/.test(e)}function Ee(e){return"number"===typeof e&&isNaN(e)}function ge(e){return void 0===e||(null===e||(!!Ee(e)||(!!_e(e)||(!!ve(e)||(!!Oe(e)||(!!be(e)||void 0))))))}function Te(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n instanceof RegExp){if(n.test(t))return!0}else{var a=new RegExp(String(n));if(a.test(t))return!0}}return!1}var Re=r("262e"),we=r("2caf"),ke=r("9072");r("5319");var xe=function(e){Object(Re["a"])(r,e);var t=Object(we["a"])(r);function r(){var e,n,a,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ie["a"])(this,r);var s=(null===(e=o.response.data)||void 0===e?void 0:e.message)||(null===(n=o.response.data)||void 0===n?void 0:n.detail)||"";i=t.call(this,s),i.status=(null===(a=o.response)||void 0===a?void 0:a.status)||0,i.methods=o.config.method.toUpperCase()||"GET";var c=o.config.baseURL||"",u=o.config.url||"";return i.url=c+u,i}return r}(Object(ke["a"])(Error));function Le(e){return e}function Ae(e){}function Se(e){return je.apply(this,arguments)}function je(){return je=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(e){r(e)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function Ie(e){return ye.apply(this,arguments)}function ye(){return ye=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new Image;n.onload=function(){requestAnimationFrame((function(){e(n)}))},n.onerror=function(e){r(e)},n.src=t})));case 1:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function Ne(e){if("string"===typeof e){var t=e.replace(/\s+/g,"").toUpperCase();if(/KB$/.test(t)){var r=t.replace(/KB$/,"");return Number(r*Math.pow(10,3))}if(/MB$/.test(t)){var n=t.replace(/MB$/,"");return Number(n*Math.pow(10,6))}if(/GB$/.test(t)){var a=t.replace(/GB$/,"");return Number(a*Math.pow(10,9))}if(/TB$/.test(t)){var i=t.replace(/TB$/,"");return Number(i*Math.pow(10,12))}return Number(t)}if("number"===typeof e)return e}var Ce=r("b85c");function Be(e){return JSON.parse(JSON.stringify(e))}function Me(e,t){var r,n={},a=Object(Ce["a"])(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;n[i]=t.getItem(i)||null}}catch(o){a.e(o)}finally{a.f()}return n}var De=r("d4cd"),He=r.n(De),Ge=r("5710"),Pe=r.n(Ge),Ue=r("5ea5"),$e=r.n(Ue),Ke=He()();function Fe(e){e.prototype.$markdown=Ke}function Ye(){return Ke}function Ve(e){var t=Ye(),r=e.replace(/\r\n/g,"\r\n\r\n"),n=t.render(r),a=n.replace(/<hr>/g,"<br><hr><br>").replace(/&lt;br\/&gt;/g,"<br>").replace(/&amp;nbsp/g,"<br>");return a}Ke.use(Pe.a),Ke.use($e.a);var We,ze=r("ade3"),qe=(r("1276"),r("a630"),r("07ac"),We={},Object(ze["a"])(We,W.IS_EMPTY,(function(e,t){return ge(e)?t.message||"輸入資料不得為空":null})),Object(ze["a"])(We,W.EMAIL,(function(e,t){var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=!r.test(String(e));return n?t.message||"請輸入正確的電子郵件信箱格式":null})),Object(ze["a"])(We,W.PASSWORD,(function(e,t){var r=t.min||6,n=t.max||30,a=new RegExp("^(?=.*\\d)(?=.*[a-zA-Z]).{".concat(r,",").concat(n,"}$")),i=!a.test(String(e));return i?t.message||"密碼請輸入".concat(r,"~").concat(n,"碼英數混合"):null})),Object(ze["a"])(We,W.EQUAL,(function(e,t){return t.equal!==e?t.message||"輸入資料不相等":null})),Object(ze["a"])(We,W.IMAGE,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=[],!(t instanceof Blob)){e.next=18;break}if(a=r.messageOption||{default:r.message||null},!(r.minWidth||r.maxWidth||r.minHeight||r.maxHeight)){e.next=14;break}return e.next=6,Se(t);case 6:return i=e.sent,e.next=9,Ie(i);case 9:o=e.sent,r.minWidth<o.naturalWidth&&n.push(a.minWidth||a.default||"圖片長寬大小超出限制"),r.maxWidth>o.naturalWidth&&n.push(a.maxWidth||a.default||"圖片長寬大小超出限制"),r.minHeight<o.naturalHeight&&n.push(a.minHeight||a.default||"圖片長寬大小超出限制"),r.maxHeight>o.naturalHeight&&n.push(a.maxHeight||a.default||"圖片長寬大小超出限制");case 14:r.size&&(s=Ne(r.size),isNaN(s)?Ae("utils[function validImage]: The option property size is not valid variable."):t.size>s&&n.push(a.size||a.default||"檔案大小超出限制")),r.type&&(c="string"===typeof r.type?r.type.split(","):Array.from(r.type),u=c.map((function(e){return String(e).toLocaleLowerCase()})),l=Te(u,t.type.toLocaleLowerCase()),l||n.push(a.type||a.default||"檔案類型錯誤")),e.next=19;break;case 18:Ae("utils[function validImage]: The value is not Blob object.");case 19:return e.abrupt("return",n.length?n:null);case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),We);function Ze(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],e.t0=regeneratorRuntime.keys(r);case 2:if((e.t1=e.t0()).done){e.next=16;break}if(a=e.t1.value,i=r[a]||{},o=qe[a],!o){e.next=13;break}return e.next=9,o(t,i);case 9:s=e.sent,s&&(Array.isArray(s)?n.push.apply(n,Object(fe["a"])(s)):n.push(s)),e.next=14;break;case 13:Ae("utils[function validateField]: The options type is not a function.");case 14:e.next=2;break;case 16:return c=n.filter((function(e){return e})),e.abrupt("return",c.length?c:null);case 18:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return Xe=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ge(t)&&Ae("utils[function validate]: The form property is all empty."),ge(r)&&Ae("utils[function validate]: The options property is all empty."),n={},e.t0=regeneratorRuntime.keys(r);case 4:if((e.t1=e.t0()).done){e.next=12;break}if(a=e.t1.value,!Object.hasOwnProperty.call(t,a)){e.next=10;break}return e.next=9,Ze(t[a],r[a]);case 9:n[a]=e.sent;case 10:e.next=4;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}function et(e){return ce()(Object.values(e)).filter((function(e){return e}))}function tt(e,t){if(t){var r=e[t];return Boolean(r?r[0]:null)}return Boolean(et(e).length)}var rt=location.protocol+"//api.pastwind.org",nt={env:Object({NODE_ENV:"production",VUE_APP_LIFF_ID:"1656538444-L3wP67PM",VUE_APP_LIFF_HOST:"tpwlweb.3anology.info",VUE_APP_API_URL:"api.pastwind.org",VUE_APP_CLIENT_ID:"1656649897",VUE_APP_PACKAGE:'{\n  "name": "accessibility-book",\n  "version": "0.1.1",\n  "private": true,\n  "scripts": {\n    "dev": "vue-cli-service serve --open",\n    "build": "vue-cli-service build",\n    "lint": "vue-cli-service lint",\n    "serve": "node server",\n    "sh:create": "sh ./script/create.sh",\n    "sh:push": "sh ./script/push.sh",\n    "sh:deploy": "sh ./script/deploy.sh"\n  },\n  "dependencies": {\n    "@line/liff": "^2.16.1",\n    "axios": "^0.21.1",\n    "core-js": "^3.6.5",\n    "dayjs": "^1.10.7",\n    "js-cookie": "^3.0.1",\n    "lodash": "^4.17.21",\n    "markdown-it": "^12.2.0",\n    "markdown-it-abbr": "^1.0.4",\n    "markdown-it-deflist": "^2.1.0",\n    "markdown-it-emoji": "^2.0.0",\n    "markdown-it-footnote": "^3.0.3",\n    "markdown-it-imsize": "^2.0.1",\n    "markdown-it-latex": "^0.2.0",\n    "markdown-it-latex2img": "0.0.6",\n    "markdown-it-mark": "^3.0.1",\n    "markdown-it-pandoc-renderer": "^1.1.3",\n    "markdown-it-sub": "^1.0.0",\n    "markdown-it-sup": "^1.0.0",\n    "markdown-it-texmath": "^0.9.1",\n    "url-search-params-polyfill": "^8.1.1",\n    "uuid": "^8.3.2",\n    "vue": "^2.6.11",\n    "vue-router": "^3.2.0",\n    "vuex": "^3.4.0"\n  },\n  "devDependencies": {\n    "@ascendancyy/vue-cli-plugin-stylelint": "^1.1.2",\n    "@vue/cli-plugin-babel": "~4.5.0",\n    "@vue/cli-plugin-eslint": "~4.5.0",\n    "@vue/cli-plugin-router": "~4.5.0",\n    "@vue/cli-plugin-vuex": "~4.5.0",\n    "@vue/cli-service": "~4.5.0",\n    "@vue/eslint-config-standard": "^5.1.2",\n    "babel-eslint": "^10.1.0",\n    "eslint": "^6.7.2",\n    "eslint-config-prettier": "^8.3.0",\n    "eslint-plugin-import": "^2.20.2",\n    "eslint-plugin-node": "^11.1.0",\n    "eslint-plugin-prettier": "^3.4.0",\n    "eslint-plugin-promise": "^4.2.1",\n    "eslint-plugin-standard": "^4.0.0",\n    "eslint-plugin-vue": "^6.2.2",\n    "mdast-util-from-markdown": "^1.2.0",\n    "postcss-preset-env": "^6.7.0",\n    "postcss-px2rem": "^0.3.0",\n    "prettier": "^2.3.2",\n    "prettier-eslint": "^13.0.0",\n    "sass": "^1.26.5",\n    "sass-loader": "^8.0.2",\n    "style-resources-loader": "^1.4.1",\n    "stylelint": "^13.13.1",\n    "stylelint-config-prettier": "^8.0.2",\n    "stylelint-config-recess-order": "^2.5.0",\n    "stylelint-config-standard": "^22.0.0",\n    "stylelint-scss": "^3.20.1",\n    "stylelint-webpack-plugin": "^3.0.1",\n    "vue-cli-plugin-style-resources-loader": "^0.1.5",\n    "vue-template-compiler": "^2.6.11"\n  }\n}\n',BASE_URL:"/"}),package:JSON.parse('{\n  "name": "accessibility-book",\n  "version": "0.1.1",\n  "private": true,\n  "scripts": {\n    "dev": "vue-cli-service serve --open",\n    "build": "vue-cli-service build",\n    "lint": "vue-cli-service lint",\n    "serve": "node server",\n    "sh:create": "sh ./script/create.sh",\n    "sh:push": "sh ./script/push.sh",\n    "sh:deploy": "sh ./script/deploy.sh"\n  },\n  "dependencies": {\n    "@line/liff": "^2.16.1",\n    "axios": "^0.21.1",\n    "core-js": "^3.6.5",\n    "dayjs": "^1.10.7",\n    "js-cookie": "^3.0.1",\n    "lodash": "^4.17.21",\n    "markdown-it": "^12.2.0",\n    "markdown-it-abbr": "^1.0.4",\n    "markdown-it-deflist": "^2.1.0",\n    "markdown-it-emoji": "^2.0.0",\n    "markdown-it-footnote": "^3.0.3",\n    "markdown-it-imsize": "^2.0.1",\n    "markdown-it-latex": "^0.2.0",\n    "markdown-it-latex2img": "0.0.6",\n    "markdown-it-mark": "^3.0.1",\n    "markdown-it-pandoc-renderer": "^1.1.3",\n    "markdown-it-sub": "^1.0.0",\n    "markdown-it-sup": "^1.0.0",\n    "markdown-it-texmath": "^0.9.1",\n    "url-search-params-polyfill": "^8.1.1",\n    "uuid": "^8.3.2",\n    "vue": "^2.6.11",\n    "vue-router": "^3.2.0",\n    "vuex": "^3.4.0"\n  },\n  "devDependencies": {\n    "@ascendancyy/vue-cli-plugin-stylelint": "^1.1.2",\n    "@vue/cli-plugin-babel": "~4.5.0",\n    "@vue/cli-plugin-eslint": "~4.5.0",\n    "@vue/cli-plugin-router": "~4.5.0",\n    "@vue/cli-plugin-vuex": "~4.5.0",\n    "@vue/cli-service": "~4.5.0",\n    "@vue/eslint-config-standard": "^5.1.2",\n    "babel-eslint": "^10.1.0",\n    "eslint": "^6.7.2",\n    "eslint-config-prettier": "^8.3.0",\n    "eslint-plugin-import": "^2.20.2",\n    "eslint-plugin-node": "^11.1.0",\n    "eslint-plugin-prettier": "^3.4.0",\n    "eslint-plugin-promise": "^4.2.1",\n    "eslint-plugin-standard": "^4.0.0",\n    "eslint-plugin-vue": "^6.2.2",\n    "mdast-util-from-markdown": "^1.2.0",\n    "postcss-preset-env": "^6.7.0",\n    "postcss-px2rem": "^0.3.0",\n    "prettier": "^2.3.2",\n    "prettier-eslint": "^13.0.0",\n    "sass": "^1.26.5",\n    "sass-loader": "^8.0.2",\n    "style-resources-loader": "^1.4.1",\n    "stylelint": "^13.13.1",\n    "stylelint-config-prettier": "^8.0.2",\n    "stylelint-config-recess-order": "^2.5.0",\n    "stylelint-config-standard": "^22.0.0",\n    "stylelint-scss": "^3.20.1",\n    "stylelint-webpack-plugin": "^3.0.1",\n    "vue-cli-plugin-style-resources-loader": "^0.1.5",\n    "vue-template-compiler": "^2.6.11"\n  }\n}\n'),lineLoginRequestParam:{response_type:"code",client_id:"1656649897",nonce:"09876xyz",scope:"profile openid email",redirect_uri:location.origin+"/login"},isApp:ue(),liffId:"1656538444-L3wP67PM",liff:"tpwlweb.3anology.info"===location.host,authorizationHeaderPrefix:"Token",base:{baseUrl:rt,headers:{}},api:{baseUrl:rt+"/api/v1/",headers:{}},auth:{baseUrl:rt+"/dj-rest-auth/",headers:{}},storage:localStorage,loginRoutes:[m.LOGIN,m.REGISTER,m.NO_AUTHORIZED]},at=null,it=function(){function e(){Object(ie["a"])(this,e)}return Object(oe["a"])(e,null,[{key:"value",get:function(){return nt}},{key:"setApp",value:function(e){at=e}},{key:"useApp",value:function(){return at}},{key:"getRoute",value:function(e){var t,r,n=e||at,a=null===n||void 0===n||null===(t=n.$route)||void 0===t||null===(r=t.query)||void 0===r?void 0:r["liff.state"];return a?n.$router.resolve(a):null!==n&&void 0!==n&&n.$route?n.$route:null}}]),e}(),ot=it,st=r("fd32"),ct=r.n(st),ut={name:"App",components:{Header:J,Footer:ae},data:function(){return{path:"",href:""}},watch:{$route:function(){this.changeRoute()}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.query&&e.$route.query["liff.state"],!ot.value.liff&&!r){t.next=4;break}return t.next=4,ct.a.init({liffId:ot.value.liffId});case 4:return t.next=6,e.getStorage(p.TOKEN);case 6:if(!t.sent){t.next=9;break}return t.next=9,e.$store.dispatch(V.FETCH_USER_INFO);case 9:e.changeRoute();case 10:case"end":return t.stop()}}),t)})))()},methods:{changeRoute:function(){return this.$store.dispatch(V.ROUTE_CHANGE,this)}}},lt=ut,ft=(r("5c0b"),r("43c3"),Object(Z["a"])(lt,o,s,!1,null,"4807df92",null)),pt=ft.exports,mt=r("8c4f"),dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.route.name===e.RouterName.HOME?r("div",{key:e.RouterName.HOME},[r("h2",[e._v("首頁")]),r("section-news"),e._m(0),e._m(1)],1):e._e(),e._l(e.views,(function(t,n){return r("div",{key:n},[e.route.name===n?r(t,{tag:"div"}):e._e()],1)}))],2)},ht=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{attrs:{id:"release_list"}},[r("h4",{staticClass:"section-title"},[e._v("最新上架")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{attrs:{id:"recommend_list"}},[r("h4",{staticClass:"section-title"},[e._v("推薦書單")])])}],vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("書籍列表")]),e.isLoading?r("div",[e._v("讀取中")]):e.targetModel?r("div",[r("h3",[e._v(e._s(e.targetModel.name))]),e._l(e.targetModel.chapter_set,(function(t){return r("div",{key:t.id,staticClass:"book__list-item"},[r("RouterLink",{attrs:{to:e.getChapterRoute(t.id)}},[e._v(e._s(t.name))])],1)}))],2):e.bookList&&e.bookList.length?r("div",e._l(e.bookList,(function(t){return r("div",{key:t.id,staticClass:"book__list-item"},[r("RouterLink",{attrs:{to:e.getBookRoute(t.id)}},[e._v(e._s(t.name))])],1)})),0):r("div",[e._v("無資料")])])},Ot=[],bt=(r("7db0"),{name:"Book",data:function(){return{active:"",loading:!1}},computed:{bookList:function(){return this.$store.getters[w.BOOK_LIST]},targetModel:function(){var e=this;return this.bookList.find((function(t){return t.id===e.active}))}},methods:{fetchBookList:function(){return this.$store.dispatch(V.FETCH_BOOK_LIST)},fetchBookById:function(e){return this.$store.dispatch(V.FETCH_BOOK_BY_ID,e)},fetchBookListByQuery:function(e){return this.$store.dispatch(V.FETCH_BOOK_LIST_BY_QUERY,e)},getChapterRoute:function(e){return{name:m.CHAPTER,params:{id:e}}},getBookRoute:function(e){return{name:m.BOOK_DETAIL,params:{id:e}}},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.route.params.id,n=t.route.query,!r){e.next=8;break}return t.active=r,e.next=6,t.fetchBookById(r);case 6:e.next=17;break;case 8:if(!n.tag__name){e.next=14;break}return t.active="",e.next=12,t.fetchBookListByQuery(n);case 12:e.next=17;break;case 14:return t.active="",e.next=17,t.fetchBookList();case 17:case"end":return e.stop()}}),e)})))()}}}),_t=bt,Et=(r("dadf"),Object(Z["a"])(_t,vt,Ot,!1,null,"e379a928",null)),gt=Et.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("書籤列表")]),e.isLoading?r("div",[e._v("讀取中")]):e.bookMarkList.length?r("div",e._l(e.bookMarkList,(function(t){return r("div",{key:t.id},[r("div",{staticClass:"bookmark__list-item"},[r("RouterLink",{attrs:{to:e.getChapterRoute(t.chapter)}},[e._v(e._s(t.chapter_name))]),r("button",{on:{click:function(r){return e.throttleDeleteBookMark(t.id)}}},[e._v("刪除")])],1)])})),0):r("div",[e._v("無資料")])])},Rt=[],wt={name:"BookMark",data:function(){return{throttleDeleteBookMark:me()(this.deleteBookmark,400)}},computed:{bookMarkList:function(){return this.$store.getters[w.BOOKMARK_LIST]}},methods:{deleteBookmark:function(e){return this.$store.dispatch(V.DELETE_BOOKMARK,e)},fetchBookmarkList:function(){return this.$store.dispatch(V.FETCH_BOOKMARK_LIST)},getChapterRoute:function(e){return{name:m.CHAPTER,params:{id:e}}},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchBookmarkList();case 2:case"end":return e.stop()}}),e)})))()}}},kt=wt,xt=(r("ffbe"),Object(Z["a"])(kt,Tt,Rt,!1,null,"d55e0748",null)),Lt=xt.exports,At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLoading?r("div",[e._v("讀取中")]):e.targetModel?r("div",[r("div",[r("h2",[e._v("章節列表")]),r("div",{staticClass:"chapter__bookmark"},[e.isBookMark?r("span",[e._v("已加入書籤")]):r("button",{attrs:{type:"button"},on:{click:e.throttleAddBookMark}},[e._v("建立書籤")])])]),r("div",{domProps:{innerHTML:e._s(e.transformMarkdownToHtml(e.targetModel.content))}})]):r("div",[r("div",[e._v("無資料")])])])},St=[],jt=r("bc3a"),It=r.n(jt);function yt(e){return function(e){var t=localStorage.getItem(p.TOKEN);return e.headers.Authorization=ot.value.authorizationHeaderPrefix+" "+t,e}}function Nt(e){return function(e){return e}}function Ct(e){return function(e){return e}}function Bt(e){return function(e){var t,r,n=ot.useApp(),a=(null===(t=e.response)||void 0===t?void 0:t.status)||(null===(r=e.request)||void 0===r?void 0:r.status);switch(a){case d.CLIENT_ERROR:console.error("Client Error");break;case d.UNAUTHORIZED:n.$store.dispatch(V.REMOVE_STORAGE,p.TOKEN),n.$store.dispatch(V.CHECK_LOGIN_REPLACE);break;case d.FORBIDDEN:n.$store.dispatch(V.REMOVE_STORAGE,p.TOKEN),n.$store.dispatch(V.CHECK_LOGIN_REPLACE);break;case d.NOT_FOUND:console.error("Not Found");break;case d.METHOD_NOT_ALLOWED:console.error("Method Not Allowed");break;case d.Not_ACCEPTABLE:console.error("Not Acceptable");break;case d.TIMEOUT:console.error("Timeout");break;case d.SERVER_ERROR:console.error("Server Error");break;case d.NOT_IMPLEMENTED:console.error("Not Implemented");break;case d.SERVICE_UNAVAILABLE:console.error("Service Unavailable");break;default:break}return e}}function Mt(e){return function(e){if("login/"!==e.url){var t=localStorage.getItem(p.TOKEN);t&&(e.headers.Authorization=ot.value.authorizationHeaderPrefix+" "+t)}return e}}function Dt(e){return function(e){return e}}var Ht=ot.value,Gt=function(e){var t=It.a.create({baseURL:"".concat(Ht.api.baseUrl),headers:Object(h["a"])({},Ht.api.headers)});return t.interceptors.request.use(yt(e),Nt(e)),t.interceptors.response.use(Ct(e),Bt(e)),t},Pt=Gt(),Ut=function(e){var t=It.a.create({baseURL:"".concat(Ht.auth.baseUrl),headers:Object(h["a"])({},Ht.auth.headers)});return t.interceptors.request.use(Mt(e),Nt(e)),t.interceptors.response.use(Ct(e),Bt(e)),t},$t=Ut(),Kt=function(e){var t=It.a.create({baseURL:"".concat(Ht.base.baseUrl),headers:Object(h["a"])({},Ht.base.headers)});return t.interceptors.request.use(Dt(e),Nt(e)),t.interceptors.response.use(Ct(e),Bt(e)),t},Ft=(Kt(),function(e){return $t.post("login/",e)}),Yt=function(){return $t.post("logout/")},Vt=function(e){return $t.post("line/",e)},Wt=function(e){return $t.post("password/change/",e)},zt=function(){return Pt.get("user/")},qt=function(e){return Pt.patch("user/",de(e))},Zt=function(){return Pt.get("book/")},Qt=function(e){return Pt.get("book/",{params:he(e)})},Jt=function(e){return Pt.get("book/".concat(e,"/"))},Xt=function(){return Pt.get("tag/")},er=function(e){return Pt.get("chapter/".concat(e,"/"))},tr=function(e){return Pt.get("chapter/?tag=".concat(e))},rr=function(){return Pt.get("history/")},nr=function(e){return Pt.post("history/",e)},ar=function(){return Pt.get("bookmark/")},ir=function(e){return Pt.post("bookmark/",e)},or=function(e){return Pt.delete("bookmark/".concat(e,"/"))},sr=function(){return Pt.get("test/")},cr=function(){return Pt.get("news/")},ur=function(e){return Pt.get("news/".concat(e,"/"))},lr={name:"Chapter",data:function(){return{active:null,throttleAddBookMark:me()(this.addBookmark,400)}},computed:{chapterList:function(){return this.$store.getters[w.CHAPTER_LIST]},targetModel:function(){var e=this;return this.chapterList.find((function(t){return t.id===e.active}))},bookmarkList:function(){return this.$store.getters[w.BOOKMARK_LIST]},isBookMark:function(){var e=this;return this.bookmarkList.some((function(t){return t.chapter===e.active}))}},methods:{transformMarkdownToHtml:Ve,fetchBookmarkList:function(){return this.$store.dispatch(V.FETCH_BOOKMARK_LIST)},fetchChapterById:function(e){return this.$store.dispatch(V.FETCH_CHAPTER_BY_ID,e)},addBookmark:function(){if(this.active)return this.$store.dispatch(V.ADD_BOOKMARK,{chapter:this.active})},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Number(t.route.params.id),!r){e.next=11;break}return t.active=r,e.next=5,t.fetchBookmarkList();case 5:return e.next=7,t.fetchChapterById(r);case 7:return e.next=9,nr({chapter:r});case 9:e.next=14;break;case 11:return t.active=null,e.next=14,t.$router.replace({name:m.HOME});case 14:case"end":return e.stop()}}),e)})))()}}},fr=lr,pr=(r("fca9"),Object(Z["a"])(fr,At,St,!1,null,"2da053a1",null)),mr=pr.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("歷史觀看列表")]),e.isLoading?r("div",[e._v("讀取中")]):e.historyList.length?r("div",{staticClass:"history-list"},e._l(e.historyListSort,(function(t,n){return r("div",{key:t.id},[r("li",{staticClass:"history-item"},[r("RouterLink",{attrs:{to:e.getChapterRoute(t.chapter)}},[r("h4",[r("span",[e._v(e._s(n+1)+".")]),r("span",[e._v(e._s(t.chapter_name))])]),r("p",[e._v(e._s(e.getDate(t.last_modified)))]),r("ul",[r("span",[e._v("標籤:")]),e._l(t.tag,(function(t){return r("li",{key:t.id},[e._v(e._s(t.name))])}))],2)])],1)])})),0):r("div",[e._v("無資料")])])},hr=[],vr={name:"History",data:function(){return{}},computed:{historyList:function(){return this.$store.getters[w.HISTORY_LIST]},historyListSort:function(){return this.historyList.map((function(e){return e})).sort((function(e,t){return t.last_modified-e.last_modified}))}},methods:{fetchHistoryList:function(){return this.$store.dispatch(V.FETCH_HISTORY_LIST)},getChapterRoute:function(e){return{name:m.CHAPTER,params:{id:e}}},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchHistoryList();case 2:case"end":return e.stop()}}),e)})))()}}},Or=vr,br=(r("af54"),Object(Z["a"])(Or,dr,hr,!1,null,"c0e3a446",null)),_r=br.exports,Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("form",{staticClass:"form",attrs:{title:"帳號登入的表單"},on:{submit:e.throttleSubmit}},[r("h2",{staticClass:"form-title",attrs:{title:"這裡是登入頁面"}},[e._v("登入")]),r("div",{staticClass:"form-item"},[r("label",{staticClass:"form-label",attrs:{title:"帳號信箱"}},[e._v("帳號信箱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-input",class:{"is-valid":e.isValid(e.errors,"username")},attrs:{type:"text",name:"email",title:"這裡輸入帳號信箱"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}})]),r("div",{staticClass:"form-item"},[r("label",{staticClass:"form-label",attrs:{title:"密碼"}},[e._v("密碼")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-input",class:{"is-valid":e.isValid(e.errors,"password")},attrs:{type:"password",name:"password",title:"這裡輸入帳號密碼"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),r("button",{staticClass:"btn-submit",attrs:{type:"submit",title:"點擊登入"}},[e._v("登入")]),r("a",{staticClass:"btn-submit",attrs:{title:"點擊使用Line登入",href:e.lineUrl}},[e._v("Line登入")])])])},gr=[],Tr={name:"Login",data:function(){return{form:{username:"user",password:"zY7bSBgk"},errors:{},throttleSubmit:me()(this.submit,400)}},computed:{lineUrl:function(){var e=new URLSearchParams(Object(h["a"])(Object(h["a"])({},ot.value.lineLoginRequestParam),{},{state:"state=12345abcde"}));return"https://access.line.me/oauth2/v2.1/authorize?".concat(e.toString())}},created:function(){var e=ot.value.lineLoginRequestParam.response_type;this.$route.query[e]&&this.fetchLineLogin(this.$route.query[e])},methods:{isValid:tt,fetchUserInfo:function(){return this.$store.dispatch(V.FETCH_USER_INFO)},login:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch(V.LOGIN,e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},checkLoginReplace:function(){this.$store.dispatch(V.CHECK_LOGIN_REPLACE)},submit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,t.validate(t.form);case 3:if(t.errors=r.sent,!tt(t.errors)){r.next=7;break}return alert("註冊失敗！\n\n"+et(t.errors).toString().replace(/,/g,"，\n")+"。"),r.abrupt("return");case 7:return r.prev=7,r.next=10,t.login(t.form);case 10:t.loginHandler(),r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](7),Le(r.t0),t.$router.replace({name:m.LOGIN});case 17:case"end":return r.stop()}}),r,null,[[7,13]])})))()},fetchLineLogin:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Vt({code:e,return_url:ot.value.lineLoginRequestParam.redirect_uri});case 3:if(n=r.sent,!n.isAxiosError){r.next=8;break}throw new xe(n);case 8:return a=n.data.key,r.next=11,t.setStorage(p.TOKEN,a);case 11:t.loginHandler();case 12:r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](0),Le(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})))()},loginHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUserInfo();case 2:if(r=t.sent,!r){t.next=13;break}if(r.is_password_set){t.next=8;break}return t.next=7,e.$router.replace({name:m.REGISTER});case 7:return t.abrupt("return");case 8:if(r.is_authorized){t.next=12;break}return t.next=11,e.$router.replace({name:m.NO_AUTHORIZED});case 11:return t.abrupt("return");case 12:e.checkLoginReplace();case 13:case"end":return t.stop()}}),t)})))()},validate:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Je(e,{username:Object(ze["a"])({},W.IS_EMPTY,{message:"請填寫帳號"}),password:Object(ze["a"])({},W.IS_EMPTY,{message:"請填寫密碼"})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}},Rr=Tr,wr=(r("206d"),Object(Z["a"])(Rr,Er,gr,!1,null,null,null)),kr=wr.exports,xr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLoading?r("div",[e._v("讀取中")]):e.childListModel&&e.childListModel.length?r("div",e._l(e.childListModel,(function(t){return r("div",{key:t.id,staticClass:"menu__list-item"},[r("RouterLink",{attrs:{to:e.getBookRouteByTagName(t.targetTag)}},[e._v(e._s(t.label)+" ")])],1)})),0):r("div",[e._v("無資料")])])},Lr=[],Ar={name:"Menu",data:function(){return{childListModel:null,title:""}},methods:{getBookRouteByTagName:function(e){return{name:m.BOOK,query:{tag__name:e.join(",")}}},getMenuList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$store.dispatch(V.FETCH_MENU_LIST));case 1:case"end":return t.stop()}}),t)})))()},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.route.params.id,!r){e.next=7;break}return e.next=4,t.getMenuList(r);case 4:n=e.sent,a=n.find((function(e){return e.uuid===r})),a&&(t.childListModel=a.child);case 7:case"end":return e.stop()}}),e)})))()}}},Sr=Ar,jr=(r("3904"),Object(Z["a"])(Sr,xr,Lr,!1,null,"aa33e784",null)),Ir=jr.exports,yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",[r("ul",e._l(e.navigation,(function(t,n){return r("li",{key:n},[r("RouterLink",{attrs:{to:{name:n}}},[e._v(e._s(t.title))])],1)})),0)])},Nr=[],Cr={name:"Navigation",data:function(){var e;return{navigation:(e={},Object(ze["a"])(e,m.HOME,{title:"首頁"}),Object(ze["a"])(e,m.BOOK,{title:"書籍"}),Object(ze["a"])(e,m.TAG,{title:"標籤"}),Object(ze["a"])(e,m.BOOK_MARK,{title:"書籤"}),Object(ze["a"])(e,m.HISTORY,{title:"歷史紀錄"}),Object(ze["a"])(e,m.USER,{title:"使用者管理"}),e)}}},Br=Cr,Mr=(r("839a"),Object(Z["a"])(Br,yr,Nr,!1,null,"ab208ba4",null)),Dr=Mr.exports,Hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.isLoading?r("div",[e._v("讀取中")]):e.targetModel?r("div",[r("h2",{staticClass:"section-title"},[e._v("最新消息")]),r("div",{staticClass:"list-item"},[r("h3",[e._v(e._s(e.targetModel.name))]),r("div",[e._v(" 發佈時間:"),r("span",[e._v(e._s(e.getDate(e.targetModel.publish_date)))])]),r("div",{domProps:{innerHTML:e._s(e.transformMarkdownToHtml(e.targetModel.content))}})])]):e.newsList&&e.newsList.length?r("div",[r("h3",{staticClass:"section-title"},[e._v("最新消息")]),r("ul",{staticClass:"list"},e._l(e.newsList,(function(t){return r("li",{key:t.id,staticClass:"list-item"},[r("h4",[r("RouterLink",{attrs:{to:e.getNewsRoute(t.id)}},[e._v(e._s(t.name))])],1),r("div",[e._v(" 發佈時間:"),r("span",[e._v(e._s(e.getDate(t.publish_date)))])])])})),0)]):e._e()])},Gr=[],Pr={data:function(){return{active:null}},computed:{newsList:function(){return this.$store.getters[w.NEWS_LIST]},targetModel:function(){var e=this;return this.newsList.find((function(t){return t.id===e.active}))}},methods:{transformMarkdownToHtml:Ve,fetchNewsList:function(){return this.$store.dispatch(V.FETCH_NEWS_LIST)},fetchNewsListById:function(e){return this.$store.dispatch(V.FETCH_NEWS_BY_ID,e)},getNewsRoute:function(e){return{name:m.NEWS_DETAIL,params:{id:e}}},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Number(t.route.params.id),!r){e.next=7;break}return e.next=4,t.fetchNewsListById(r);case 4:t.active=r,e.next=9;break;case 7:return e.next=9,t.fetchNewsList();case 9:case"end":return e.stop()}}),e)})))()}}},Ur=Pr,$r=(r("657d"),Object(Z["a"])(Ur,Hr,Gr,!1,null,null,null)),Kr=$r.exports,Fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("尚未審核通過")])},Yr=[],Vr={name:"NoAuthorized"},Wr=Vr,zr=Object(Z["a"])(Wr,Fr,Yr,!1,null,null,null),qr=zr.exports,Zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"form-title",attrs:{title:"這裡是註冊頁面"}},[e._v("註冊")]),r("form",{on:{submit:e.throttleSubmit}},[r("div",{staticClass:"form-item"},[r("label",[e._v("姓氏")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.last_name,expression:"form.last_name"}],class:{"is-valid":e.isValid(e.errors,"last_name")},attrs:{type:"text",name:"last_name",title:"請輸入姓氏",placeholder:"請輸入姓氏"},domProps:{value:e.form.last_name},on:{input:function(t){t.target.composing||e.$set(e.form,"last_name",t.target.value)}}})]),r("div",{staticClass:"form-item"},[r("label",[e._v("名字")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_name,expression:"form.first_name"}],class:{"is-valid":e.isValid(e.errors,"first_name")},attrs:{type:"text",name:"first_name",title:"請輸入名字",placeholder:"請輸入名字"},domProps:{value:e.form.first_name},on:{input:function(t){t.target.composing||e.$set(e.form,"first_name",t.target.value)}}})]),r("div",{staticClass:"form-item"},[r("label",[e._v("密碼")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password1,expression:"form.password1"}],class:{"is-valid":e.isValid(e.errors,"password1")},attrs:{type:"password",name:"password",title:"請輸入密碼",placeholder:"請輸入密碼"},domProps:{value:e.form.password1},on:{input:function(t){t.target.composing||e.$set(e.form,"password1",t.target.value)}}})]),r("div",{staticClass:"form-item"},[r("label",[e._v("確認密碼")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password2,expression:"form.password2"}],class:{"is-valid":e.isValid(e.errors,"password2")},attrs:{type:"password",name:"password_check",title:"請輸入確認密碼",placeholder:"請輸入確認密碼"},domProps:{value:e.form.password2},on:{input:function(t){t.target.composing||e.$set(e.form,"password2",t.target.value)}}})]),e.isEmailEmpty?r("div",{staticClass:"form-item"},[r("label",[e._v("電子信箱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-item",class:{"is-valid":e.isValid(e.errors,"email")},attrs:{type:"text",name:"email",title:"請輸入電子郵件信箱",placeholder:"請輸入郵件電子信箱"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]):r("div",{staticClass:"form-item readonly"},[r("label",[e._v("電子信箱")]),r("input",{attrs:{type:"text",name:"email",title:"電子郵件信箱",readonly:""},domProps:{value:e.userInfo.email}})]),r("div",{staticClass:"form-item"},[r("label",[e._v("證件上傳")]),r("input",{class:{"is-valid":e.isValid(e.errors,"photo")},attrs:{type:"file",name:"photo"},on:{change:e.onPhotoUpload}})]),e._m(0),e.preview?r("div",{staticClass:"form-item"},[r("label",[e._v("證件預覽")]),r("div",{staticClass:"preview"},[r("img",{attrs:{src:e.preview,alt:"證件預覽圖"}})])]):e._e()])])},Qr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"submit-btn-container"},[r("button",{attrs:{type:"submit"}},[e._v("送出")])])}],Jr={name:"Register",data:function(){return{form:{first_name:"",last_name:"",email:"",photo:null,password1:"",password2:""},errors:{},preview:"",throttleSubmit:me()(this.submit,400)}},computed:{userInfo:function(){return this.$store.state.user.info},isEmailEmpty:function(){var e;return!(null!==(e=this.userInfo)&&void 0!==e&&e.email)},errorsToArray:function(){return ce()(Object.values(this.errors)).filter((function(e){return e}))}},methods:{isValid:tt,fetchUserInfo:function(){return this.$store.dispatch(V.FETCH_USER_INFO)},checkLoginReplace:function(){this.$store.dispatch(V.CHECK_LOGIN_REPLACE)},updateUserInfo:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={first_name:e.first_name,last_name:e.last_name,photo:e.photo,email:t.isEmailEmpty?void 0:e.email},r.abrupt("return",t.$store.dispatch(V.UPDATED_USER_INFO,n));case 2:case"end":return r.stop()}}),r)})))()},createPassword:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={new_password1:e.password1,new_password2:e.password2},t.prev=1,t.next=4,Wt(r);case 4:if(n=t.sent,!n.isAxiosError){t.next=7;break}throw new xe(n);case 7:return t.abrupt("return",n.data);case 10:return t.prev=10,t.t0=t["catch"](1),t.abrupt("return",Le(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},submit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,t.validate(t.form);case 3:if(t.errors=r.sent,!tt(t.errors)){r.next=7;break}return alert("註冊失敗！\n\n"+et(t.errors).toString().replace(/,/g,"，\n")+"。"),r.abrupt("return");case 7:return r.prev=7,r.next=10,Promise.all([t.updateUserInfo(t.form),t.createPassword(t.form)]);case 10:if(n=r.sent,a=n.find((function(e){return e instanceof xe})),!a){r.next=16;break}throw a;case 16:t.loginHandler();case 17:r.next=23;break;case 19:r.prev=19,r.t0=r["catch"](7),Le(r.t0),t.$router.replace({name:m.LOGIN});case 23:case"end":return r.stop()}}),r,null,[[7,19]])})))()},onPhotoUpload:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.target,!n||!n.files.length){r.next=7;break}return a=Array.from(n.files)[0],t.form.photo=a,r.next=6,Se(a);case 6:t.preview=r.sent;case 7:case"end":return r.stop()}}),r)})))()},loginHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.userInfo){t.next=6;break}if(e.userInfo.is_authorized){t.next=5;break}return t.next=4,e.$router.replace({name:m.NO_AUTHORIZED});case 4:return t.abrupt("return");case 5:e.checkLoginReplace();case 6:case"end":return t.stop()}}),t)})))()},validate:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Je(e,{first_name:Object(ze["a"])({},W.IS_EMPTY,{message:"請填寫名字"}),last_name:Object(ze["a"])({},W.IS_EMPTY,{message:"請填寫姓氏"}),email:t.isEmailEmpty?(n={},Object(ze["a"])(n,W.IS_EMPTY,{message:"請填寫電子郵件信箱"}),Object(ze["a"])(n,W.EMAIL,{message:"請輸入正確的電子郵件信箱格式"}),n):void 0,photo:(a={},Object(ze["a"])(a,W.IS_EMPTY,{message:"請上傳盲胞證或志工證"}),Object(ze["a"])(a,W.IMAGE,{size:"2MB",type:"jpg,jpeg,png",messageOption:{size:"檔案大小上限不可超過 2MB",type:"檔案類型僅允許 jpg、png"}}),a),password1:(i={},Object(ze["a"])(i,W.IS_EMPTY,{message:"請填寫密碼"}),Object(ze["a"])(i,W.PASSWORD,{min:6,max:30}),i),password2:(o={},Object(ze["a"])(o,W.IS_EMPTY,{message:"請填寫確認密碼"}),Object(ze["a"])(o,W.EQUAL,{message:"請確認填寫密碼是否相等",equal:e.password1}),o)});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}}},Xr=Jr,en=(r("dcc8"),Object(Z["a"])(Xr,Zr,Qr,!1,null,"82268b94",null)),tn=en.exports,rn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("標籤列表")]),e.isLoading?r("div",[e._v("讀取中")]):e.tagListById&&e.tagListById.length?r("div",e._l(e.tagListById,(function(t){return r("div",{key:t.id,staticClass:"tag__list-item"},[r("RouterLink",{attrs:{to:e.getChapterRoute(t.id)}},[e._v(e._s(t.name))])],1)})),0):e.tagList&&e.tagList.length?r("div",e._l(e.tagList,(function(t){return r("div",{key:t.id,staticClass:"tag__list-item"},[r("RouterLink",{attrs:{to:e.getTagRoute(t.id)}},[e._v(e._s(t.name))])],1)})),0):r("div",[e._v("沒有資料")])])},nn=[],an={name:"Tag",data:function(){return{tagListById:null,active:null}},computed:{tagList:function(){return this.$store.getters[w.TAG_LIST]},targetModel:function(){var e=this;return this.tagList.find((function(t){return t.id===e.active}))}},methods:{fetchTagList:function(){return this.$store.dispatch(V.FETCH_TAG_LIST)},fetchChapterListByTagId:function(e){return this.$store.dispatch(V.FETCH_CHAPTER_LIST_BY_TAG_ID,e)},getChapterRoute:function(e){return{name:m.CHAPTER,params:{id:e}}},getTagRoute:function(e){return{name:m.TAG_DETAIL,params:{id:e}}},effectRoute:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Number(t.route.params.id),!r){e.next=8;break}return t.active=r,e.next=5,t.fetchChapterListByTagId(r);case 5:t.tagListById=e.sent,e.next=13;break;case 8:return t.tagListById=null,t.active=null,e.next=12,t.fetchTagList();case 12:t.listModel=e.sent;case 13:case"end":return e.stop()}}),e)})))()}}},on=an,sn=(r("e24b"),Object(Z["a"])(on,rn,nn,!1,null,"3e084e3c",null)),cn=sn.exports,un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("button",{staticClass:"logout-button",attrs:{type:"button"},on:{click:e.throttleLogout}},[e._v("登出")])])},ln=[],fn={name:"User",data:function(){return{throttleLogout:me()(this.logout,400)}},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch(V.LOGOUT);case 2:return t.next=4,e.$store.dispatch(V.CHECK_LOGIN_REPLACE);case 4:case"end":return t.stop()}}),t)})))()}}},pn=fn,mn=(r("28da"),Object(Z["a"])(pn,un,ln,!1,null,"2e59d508",null)),dn=mn.exports,hn={name:"Home",components:{"section-news":Kr},data:function(){var e;return{RouterName:m,views:(e={},Object(ze["a"])(e,m.BOOK,gt),Object(ze["a"])(e,m.BOOK_MARK,Lt),Object(ze["a"])(e,m.CHAPTER,mr),Object(ze["a"])(e,m.HISTORY,_r),Object(ze["a"])(e,m.LOGIN,kr),Object(ze["a"])(e,m.MENU,Ir),Object(ze["a"])(e,m.NAVIGATION,Dr),Object(ze["a"])(e,m.NEWS,Kr),Object(ze["a"])(e,m.NO_AUTHORIZED,qr),Object(ze["a"])(e,m.REGISTER,tn),Object(ze["a"])(e,m.TAG,cn),Object(ze["a"])(e,m.USER,dn),e)}}},vn=hn,On=(r("6e7c"),Object(Z["a"])(vn,dt,ht,!1,null,"dacd16d0",null)),bn=On.exports,_n=[{path:"/",name:m.HOME,component:bn},{path:"/login",name:m.LOGIN,component:kr},{path:"/register",name:m.REGISTER,component:tn},{path:"/no-authorized",name:m.NO_AUTHORIZED,component:qr},{path:"/navigation",name:m.NAVIGATION,component:Dr},{path:"/user",name:m.USER,component:dn},{path:"/book/",name:m.BOOK,component:gt},{path:"/book/:id",name:m.BOOK_DETAIL,component:gt},{path:"/chapter/:id",name:m.CHAPTER,component:mr},{path:"/tag/",name:m.TAG,component:cn},{path:"/tag/:id",name:m.TAG_DETAIL,component:cn},{path:"/bookmark",name:m.BOOK_MARK,component:Lt},{path:"/history",name:m.HISTORY,component:_r},{path:"/menu/:id",name:m.MENU,component:Ir},{path:"/news",name:m.NEWS,component:Kr},{path:"/news/:id",name:m.NEWS_DETAIL,component:Kr}];i["a"].use(mt["a"]);var En=new mt["a"]({mode:"history",base:"/",routes:_n}),gn=!1;En.beforeEach((function(e,t,r){gn&&(gn=!0),r()}));var Tn,Rn,wn,kn,xn,Ln,An,Sn,jn,In,yn,Nn=En,Cn=r("2f62"),Bn={info:null},Mn=(Tn={},Object(ze["a"])(Tn,B.SET_USER_INFO,(function(e,t){e.info=t})),Object(ze["a"])(Tn,B.REMOVE_USER_INFO,(function(e){e.info=null})),Tn),Dn=(r("caad"),r("2532"),Rn={},Object(ze["a"])(Rn,V.FETCH_USER_INFO,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,n=t.commit,e.prev=1,e.next=4,zt();case 4:if(a=e.sent,!a.isAxiosError){e.next=7;break}throw new xe(a);case 7:return n(B.SET_USER_INFO,a.data),e.abrupt("return",r.info);case 11:e.prev=11,e.t0=e["catch"](1),Le(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),Object(ze["a"])(Rn,V.UPDATED_USER_INFO,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.commit,e.prev=1,e.next=4,qt(r);case 4:if(i=e.sent,!i.isAxiosError){e.next=7;break}throw new xe(i);case 7:return a(B.SET_USER_INFO,i.data),e.abrupt("return",n.info);case 11:e.prev=11,e.t0=e["catch"](1),Le(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(Rn,V.CHECK_LOGIN_REPLACE,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.prev=1,n=ot.useApp(),a=ot.getRoute(),i=ot.value.loginRoutes,e.next=7,r(V.GET_STORAGE,p.TOKEN);case 7:if(o=e.sent,!o){e.next=25;break}if(!i.includes(a.name)){e.next=22;break}return e.next=12,r(V.GET_STORAGE,p.REPLACE_ROUTE);case 12:if(s=e.sent,!s){e.next=20;break}return e.next=16,n.$router.replace({name:s});case 16:return e.next=18,r(V.REMOVE_STORAGE,p.REPLACE_ROUTE);case 18:e.next=22;break;case 20:return e.next=22,n.$router.replace({name:m.HOME});case 22:return e.abrupt("return",!0);case 25:if(i.includes(a.name)){e.next=28;break}return e.next=28,r(V.SET_STORAGE,{key:p.REPLACE_ROUTE,value:a.name});case 28:return e.next=30,r(V.REMOVE_STORAGE,p.TOKEN);case 30:return a.name!==m.LOGIN&&n.$router.replace({name:m.LOGIN}),e.abrupt("return",!1);case 32:e.next=37;break;case 34:return e.prev=34,e.t0=e["catch"](1),e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e,null,[[1,34]])})));return function(t){return e.apply(this,arguments)}}()),Object(ze["a"])(Rn,V.LOGIN,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,Ft(r);case 4:if(a=e.sent,!a.isAxiosError){e.next=7;break}throw new xe(a);case 7:return i=a.data.key,e.next=10,n(V.SET_STORAGE,{key:p.TOKEN,value:i});case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e["catch"](1),Le(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(Rn,V.LOGOUT,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,e.prev=1,e.next=4,Yt();case 4:if(a=e.sent,!a.isAxiosError){e.next=7;break}throw new xe(a);case 7:return r(B.REMOVE_USER_INFO),e.next=10,n(V.REMOVE_STORAGE,p.TOKEN);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),Le(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()),Rn),Hn=ot.value.storage,Gn={local:Me(Object.values(p),Hn)},Pn=(wn={},Object(ze["a"])(wn,B.CREATE_STORAGE,(function(e,t){if(!Object.hasOwnProperty.call(e.local,t.key)){var r=Be(e.local);Hn.setItem(t.key,t.value),r[t.key]=String(t.value),e.local=r}})),Object(ze["a"])(wn,B.UPDATE_STORAGE,(function(e,t){Object.hasOwnProperty.call(e.local,t.key)&&(Hn.setItem(t.key,t.value),e.local[t.key]=String(t.value))})),Object(ze["a"])(wn,B.DELETE_STORAGE,(function(e,t){Object.hasOwnProperty.call(e.local,t)&&(Hn.removeItem(t),e.local[t]="",delete e.local[t])})),wn),Un=(kn={},Object(ze["a"])(kn,V.GET_STORAGE,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Object.hasOwnProperty.call(t.state.local,r)){e.next=2;break}return e.abrupt("return",t.state.local[r]);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(kn,V.SET_STORAGE,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.state,a=t.commit,Object.hasOwnProperty.call(n.local,r.key)?a(B.UPDATE_STORAGE,r):a(B.CREATE_STORAGE,r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(kn,V.REMOVE_STORAGE,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.state,a=t.commit,Object.hasOwnProperty.call(n.local,r)&&a(B.DELETE_STORAGE,r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),kn),$n={state:{collection:{},activeBook:null},mutations:(xn={},Object(ze["a"])(xn,B.SET_CHAPTER,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.id]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.id,t));e.collection=r}})),Object(ze["a"])(xn,B.SET_CHAPTER_ACTIVE_BOOK,(function(e,t){e.activeBook=t})),xn),actions:(Ln={},Object(ze["a"])(Ln,V.FETCH_CHAPTER_BY_ID,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.dispatch,e.prev=1,n(B.SET_LOADING,!0),e.next=5,er(r);case 5:if(i=e.sent,!i.isAxiosError){e.next=10;break}throw new xe(i);case 10:return o=i.data,e.next=13,a(V.FETCH_BOOK_BY_ID,o.book);case 13:return s=e.sent,n(B.SET_CHAPTER_ACTIVE_BOOK,s),n(B.SET_CHAPTER,o),n(B.SET_LOADING,!1),e.abrupt("return",i.data);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e["catch"](1),n(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(Ln,V.FETCH_CHAPTER_LIST_BY_TAG_ID,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n(B.SET_LOADING,!0),e.next=5,tr(r);case 5:if(a=e.sent,!a.isAxiosError){e.next=10;break}throw new xe(a);case 10:return i=a.data.results,i.forEach((function(e){n(B.SET_CHAPTER,e)})),n(B.SET_LOADING,!1),e.abrupt("return",i);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](1),n(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,r){return e.apply(this,arguments)}}()),Ln),getters:Object(ze["a"])({},w.CHAPTER_LIST,(function(e){return Object.values(e.collection)}))},Kn={state:{collection:{}},mutations:(An={},Object(ze["a"])(An,B.SET_BOOKMARK,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.id]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.id,t));e.collection=r}})),Object(ze["a"])(An,B.REMOVE_BOOKMARK,(function(e,t){Object.hasOwnProperty.call(e.collection,t)&&(e.collection[t]=null,delete e.collection[t])})),An),actions:(Sn={},Object(ze["a"])(Sn,V.FETCH_BOOKMARK_LIST,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r(B.SET_LOADING,!0),e.next=5,ar();case 5:if(n=e.sent,!n.isAxiosError){e.next=10;break}throw new xe(n);case 10:return a=n.data.results,a.forEach((function(e){r(B.SET_BOOKMARK,e)})),r(B.SET_LOADING,!1),e.abrupt("return",a);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](1),r(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),Object(ze["a"])(Sn,V.ADD_BOOKMARK,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n(B.SET_LOADING,r.chapter),e.next=5,ir(r);case 5:if(a=e.sent,!a.isAxiosError){e.next=10;break}throw new xe(a);case 10:return n(B.SET_BOOKMARK,a.data),n(B.SET_LOADING,!1),e.abrupt("return",a.data);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e["catch"](1),n(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(Sn,V.DELETE_BOOKMARK,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.commit,e.prev=1,a(B.SET_LOADING,r),e.next=5,or(r);case 5:if(i=e.sent,!i.isAxiosError){e.next=10;break}throw new xe(i);case 10:return o=n.collection[r],a(B.REMOVE_BOOKMARK,r),a(B.SET_LOADING,!1),e.abrupt("return",o);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](1),a(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,r){return e.apply(this,arguments)}}()),Sn),getters:Object(ze["a"])({},w.BOOKMARK_LIST,(function(e){return Object.values(e.collection)}))},Fn={state:{collection:{}},mutations:Object(ze["a"])({},B.SET_BOOK,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.id]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.id,t));e.collection=r}})),actions:(jn={},Object(ze["a"])(jn,V.FETCH_BOOK_LIST,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r(B.SET_LOADING,!0),e.next=5,Zt();case 5:if(n=e.sent,!n.isAxiosError){e.next=10;break}throw new xe(n);case 10:return a=n.data.results,a.forEach((function(e){r(B.SET_BOOK,e)})),r(B.SET_LOADING,!1),e.abrupt("return",a);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e["catch"](1),e.abrupt("return",Le(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),Object(ze["a"])(jn,V.FETCH_BOOK_BY_ID,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n(B.SET_LOADING,!0),e.next=5,Jt(r);case 5:if(a=e.sent,!a.isAxiosError){e.next=10;break}throw new xe(a);case 10:return n(B.SET_BOOK,a.data),n(B.SET_LOADING,!1),e.abrupt("return",a.data);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e["catch"](1),n(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(ze["a"])(jn,V.FETCH_BOOK_LIST_BY_QUERY,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n(B.SET_LOADING,!0),e.next=5,Qt(r);case 5:if(a=e.sent,!a.isAxiosError){e.next=10;break}throw new xe(a);case 10:return i=a.data.results,i.forEach((function(e){n(B.SET_BOOK,e)})),n(B.SET_LOADING,!1),e.abrupt("return",i);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](1),n(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,r){return e.apply(this,arguments)}}()),jn),getters:Object(ze["a"])({},w.BOOK_LIST,(function(e){return Object.values(e.collection)}))},Yn={state:{collection:{}},mutations:Object(ze["a"])({},B.SET_TAG,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.id]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.id,t));e.collection=r}})),actions:Object(ze["a"])({},V.FETCH_TAG_LIST,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r(B.SET_LOADING,!0),e.next=5,Xt();case 5:if(n=e.sent,!n.isAxiosError){e.next=10;break}throw new xe(n);case 10:return a=n.data.results,a.forEach((function(e){r(B.SET_TAG,e)})),r(B.SET_LOADING,!1),e.abrupt("return",a);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e["catch"](1),e.abrupt("return",Le(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),getters:Object(ze["a"])({},w.TAG_LIST,(function(e){return Object.values(e.collection)}))},Vn={state:{collection:{}},mutations:Object(ze["a"])({},B.SET_HISTORY,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.id]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.id,t));e.collection=r}})),actions:Object(ze["a"])({},V.FETCH_HISTORY_LIST,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r(B.SET_LOADING,!0),e.next=5,rr();case 5:if(n=e.sent,!n.isAxiosError){e.next=10;break}throw new xe(n);case 10:return a=n.data.results,a.forEach((function(e){r(B.SET_HISTORY,e)})),r(B.SET_LOADING,!1),e.abrupt("return",a);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e["catch"](1),e.abrupt("return",Le(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),getters:Object(ze["a"])({},w.HISTORY_LIST,(function(e){return Object.values(e.collection)}))},Wn={state:{collection:{}},mutations:Object(ze["a"])({},B.SET_MENULIST,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.sort]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.sort,t));e.collection=r}})),actions:Object(ze["a"])({},V.FETCH_MENU_LIST,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r(B.SET_LOADING,!0),e.next=5,sr();case 5:if(n=e.sent,!n.isAxiosError){e.next=10;break}throw new xe(n);case 10:return a=n.data.content.menu,a.forEach((function(e){r(B.SET_MENULIST,e),r(B.SET_LOADING,!1)})),e.abrupt("return",a);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e["catch"](1),e.abrupt("return",Le(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()),getters:Object(ze["a"])({},w.MENU_LIST,(function(e){return Object.values(e.collection)}))},zn={state:{collection:{}},mutations:Object(ze["a"])({},B.SET_NEWS,(function(e,t){if(Object.hasOwnProperty.call(e.collection,t))e.collection[t.id]=t;else{var r=Object(h["a"])(Object(h["a"])({},e.collection),{},Object(ze["a"])({},t.id,t));e.collection=r}})),actions:(In={},Object(ze["a"])(In,V.FETCH_NEWS_LIST,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,n=t.commit,e.prev=1,e.next=4,cr();case 4:if(a=e.sent,!a.isAxiosError){e.next=9;break}throw new xe(a);case 9:return i=a.data.results,i.forEach((function(e){n(B.SET_NEWS,e)})),r.loading&&n(B.SET_LOADING,!1),e.abrupt("return",i);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e["catch"](1),e.abrupt("return",Le(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()),Object(ze["a"])(In,V.FETCH_NEWS_BY_ID,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n(B.SET_LOADING,!0),e.next=5,ur(r);case 5:if(a=e.sent,!a.isAxiosError){e.next=10;break}throw new xe(a);case 10:return n(B.SET_NEWS,a.data),n(B.SET_LOADING,!1),e.abrupt("return",a.data);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e["catch"](1),n(B.SET_LOADING,!1),e.abrupt("return",Le(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r){return e.apply(this,arguments)}}()),In),getters:Object(ze["a"])({},w.NEWS_LIST,(function(e){return Object.values(e.collection)}))};i["a"].use(Cn["a"]);var qn=new Cn["a"].Store({strict:!1,state:{init:!1,route:null,loading:!1},mutations:(yn={},Object(ze["a"])(yn,B.SET_INIT,(function(e,t){e.init=t})),Object(ze["a"])(yn,B.SET_ROUTE,(function(e,t){e.route=t})),Object(ze["a"])(yn,B.SET_LOADING,(function(e,t){e.loading=t})),yn),actions:Object(ze["a"])({},V.ROUTE_CHANGE,function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=ot.getRoute(r),n(B.SET_ROUTE,a),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),getters:Object(ze["a"])({},w.IS_LOGIN,(function(e){return Boolean(e.user.info&&e.storage.storage)})),modules:{user:n,storage:a,chapter:$n,bookmark:Kn,book:Fn,tag:Yn,history:Vn,menu:Wn,news:zn}}),Zn=function(e){e.use(Fe)},Qn=r("5a0c"),Jn=r.n(Qn),Xn={data:function(){return{loop:!0}},watch:{$route:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.effectRoute||!e.loop){t.next=5;break}return e.loop=!1,t.next=4,e.effectRoute(f.WATCH_ROUTE);case 4:e.checkLoop();case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loop){t.next=9;break}if(e.loop=!1,!e.effectRoute){t.next=5;break}return t.next=5,e.effectRoute(f.CREATED);case 5:if(!e.effectComponent){t.next=8;break}return t.next=8,e.effectComponent(f.CREATED);case 8:e.checkLoop();case 9:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.effectComponent||!e.loop){t.next=5;break}return e.loop=!1,t.next=4,e.effectComponent(f.MOUNTED);case 4:e.checkLoop();case 5:case"end":return t.stop()}}),t)})))()},updated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.effectComponent||!e.loop){t.next=5;break}return e.loop=!1,t.next=4,e.effectComponent(f.UPDATED);case 4:e.checkLoop();case 5:case"end":return t.stop()}}),t)})))()},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loop){t.next=9;break}if(e.loop=!1,!e.effectRoute){t.next=5;break}return t.next=5,e.effectRoute(f.ACTIVATED);case 5:if(!e.effectComponent){t.next=8;break}return t.next=8,e.effectComponent(f.ACTIVATED);case 8:e.checkLoop();case 9:case"end":return t.stop()}}),t)})))()},deactivated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.effectComponent||!e.loop){t.next=5;break}return e.loop=!1,t.next=4,e.effectComponent(f.DEACTIVATED);case 4:e.checkLoop();case 5:case"end":return t.stop()}}),t)})))()},destroyed:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.effectComponent||!e.loop){t.next=5;break}return e.loop=!1,t.next=4,e.effectComponent(f.DESTROYED);case 4:e.checkLoop();case 5:case"end":return t.stop()}}),t)})))()},computed:{isLoading:function(){return this.$store.state.loading},isShow:function(){return!ot.value.loginRoutes.includes(this.route.name)},route:function(){return this.$store.state.route||this.$route}},methods:{checkLoop:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:e.loop=!0;case 3:case"end":return t.stop()}}),t)})))()},getStorage:function(e){return this.$store.dispatch(V.GET_STORAGE,e)},setStorage:function(e,t){this.$store.dispatch(V.SET_STORAGE,{key:e,value:t})},removeStorage:function(e){this.$store.dispatch(V.REMOVE_STORAGE,e)},getDate:function(e,t){return Jn()(e).format(t||"YYYY/MM/DD hh:mm:ss")}}};i["a"].config.productionTip=!1,i["a"].use(Zn),i["a"].mixin(Xn);var ea=new i["a"]({router:Nn,store:qn,render:function(e){return e(pt)}}).$mount("#app");ot.setApp(ea)},"5c0b":function(e,t,r){"use strict";r("5387")},"5d7b":function(e,t,r){},"657d":function(e,t,r){"use strict";r("05ea")},"6e7c":function(e,t,r){"use strict";r("2ec1")},"769f":function(e,t,r){},"839a":function(e,t,r){"use strict";r("f3a2")},8585:function(e,t,r){"use strict";r("769f")},"9f6d":function(e,t,r){},af54:function(e,t,r){"use strict";r("bc5d")},b988:function(e,t,r){},bc5d:function(e,t,r){},cd8f:function(e,t,r){},d450:function(e,t,r){},dadf:function(e,t,r){"use strict";r("d450")},dcc8:function(e,t,r){"use strict";r("4511")},e24b:function(e,t,r){"use strict";r("b988")},e927:function(e,t,r){},efb8:function(e,t,r){},f3a2:function(e,t,r){},f748:function(e,t,r){},fca9:function(e,t,r){"use strict";r("9f6d")},ffbe:function(e,t,r){"use strict";r("efb8")}});